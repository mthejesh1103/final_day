<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Valentine</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Poppins',sans-serif;
    color:white;

    background:
        radial-gradient(circle at 15% 20%, rgba(255,0,90,.18), transparent 25%),
        radial-gradient(circle at 85% 30%, rgba(0,140,255,.15), transparent 30%),
        radial-gradient(circle at 50% 85%, rgba(255,40,120,.12), transparent 35%),
        linear-gradient(160deg,#02020a,#070b1a,#0d1026);
}

/* Opening heart */

.openHeart{
    font-size:110px;
    cursor:pointer;
    animation:beat 1.4s infinite;
}

@keyframes beat{
    0%,100%{ transform:scale(1); }
    50%{ transform:scale(1.12); }
}

/* Card */

.card{
    position:absolute;
    padding:60px;
    width:90%;
    max-width:650px;
    text-align:center;

    background:rgba(255,255,255,.05);
    backdrop-filter:blur(10px);

    border-radius:28px;
    box-shadow:0 20px 60px rgba(0,0,0,.5);

    opacity:0;
    transform:scale(.7);
    transition:.6s;
    pointer-events:none;
}

.show{
    opacity:1;
    transform:scale(1);
    pointer-events:auto;
}

/* Celebration mode */

.celebrate{
    top:50%;
    left:50%;
    transform:translate(-50%, -50%) scale(1.15);
    background:transparent;
    backdrop-filter:none;
    box-shadow:none;
}

.celebrate h1{
    font-size:4rem;
    letter-spacing:2px;
    text-shadow:0 10px 40px rgba(255,80,120,.35);
}

h1{
    font-family:'Playfair Display',serif;
    font-size:3rem;
}

/* Button */

button{
    margin-top:25px;
    padding:15px 42px;
    border-radius:40px;
    border:none;
    background:#8b1e3f;
    color:white;
    cursor:pointer;
    font-size:1rem;
    transition:.25s;
}

button:hover{
    transform:scale(1.08);
    background:#a3264d;
}

/* Balloon */

.balloon{
    position:absolute;
    bottom:-180px;
    width:90px;
    cursor:pointer;
    animation:floatUp linear forwards;

    filter:drop-shadow(0 15px 20px rgba(0,0,0,.35));
    object-fit:contain;
    z-index:1;

    will-change:transform;
}

@keyframes floatUp{
    from{ transform:translateY(0); }
    to{ transform:translateY(-140vh); }
}

</style>
</head>

<body>

<div class="openHeart" id="heart">❤️</div>

<div class="card" id="card">
    <h1 id="title">Happy Valentine’s Day</h1>

    <div id="question">
        <p style="margin-top:14px;">
            Will you be mine forever?
        </p>

        <button id="yesBtn">YES</button>
    </div>
</div>

<script>

/* Limit balloons for smooth FPS */

const MAX_BALLOONS = 10;

const balloonImages = [
    "heart1.png",
    "heart2.png"
];

/* Open card */

heart.onclick = () => {
    heart.style.display = "none";
    card.classList.add("show");
};

/* YES clicked */

yesBtn.onclick = () => {

    document.getElementById("question").style.display = "none";

    card.classList.add("celebrate");

    spawnBalloon();
};

/* Recursive spawning (better than setInterval) */

function spawnBalloon(){

    if(document.querySelectorAll(".balloon").length < MAX_BALLOONS){
        createBalloon();
    }

    setTimeout(spawnBalloon, 1800);
}

/* Create balloon */

function createBalloon(){

    let img = document.createElement("img");

    img.src = balloonImages[Math.floor(Math.random()*balloonImages.length)];
    img.className = "balloon";

    img.style.left = Math.random()*92 + "vw";
    img.style.animationDuration = (10 + Math.random()*6) + "s";

    img.style.opacity = 0.75 + Math.random()*0.25;
    img.style.transform = `scale(${0.8 + Math.random()*0.4})`;

    img.onclick = () => {

        img.style.transform += " scale(0)";
        img.style.opacity = "0";

        setTimeout(()=>img.remove(),250);
    };

    document.body.appendChild(img);
}

</script>

</body>
</html>
